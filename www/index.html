<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>iDigBio Image Ingestion Tool</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="assets/css/bootstrap.css" rel="stylesheet">
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
    </style>
    <link href="assets/css/bootstrap-responsive.css" rel="stylesheet">
    <!-- DataTables CSS -->
    <link href="assets/DataTables/css/DT-bootstrap.css" rel="stylesheet">
    <!-- Site-specific CSS -->
    <link href="assets/css/ingestion.ui.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="assets/js/html5shim.ie.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="assets/ico/favicon.ico">
  </head>

  <body>

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" target="_blank" href="http://www.idigbio.org">iDigBio</a>
          <div class="nav-collapse">
            <ul class="nav">
              <li class="active"><a href="/">Home</a></li>
              <li><a target="_blank" href="https://github.com/iDigBio/idigbio-ingestion-tool/wiki">Docs</a></li>
            </ul>
            <button id="logout-btn" class="btn btn-warning pull-right" type="button">Logout</button>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container">
    
      <div class="modal hide fade" id="loginModal" data-backdrop="static" style="display: none; ">
        <div class="modal-header">
          <h3>Please Sign In</h3>
        </div>
        <div class="modal-body">
          <p>Before you can use this application, you first need to sign in using the iDigBio API Account UUID and the API key. 
            After you sign in, this combination will be saved by the application for your future use.
          </p>
          <form id="login-form" class="form-horizontal">
            <div class="control-group">
              <label class="control-label" for="accountuuid">Account UUID</label>
              <div class="controls">
                <input id="accountuuid" name="accountuuid" class="input-large" type="text" placeholder="Account UUID">
              </div>
            </div>
            <div class="control-group">
              <label class="control-label" for="apikey">API Key</label>
              <div class="controls">
                <input id="apikey" name="apikey" class="input-large" type="password" placeholder="API Key">
              </div>
            </div>
            <div class="control-group">
              <span id="login-error" class="help-block"></span>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <p>
            We accept your images as is to display as given. By clicking the button, you agree to abide by the
            <a href="https://www.idigbio.org/sites/default/files/iDigBio%20Intellectual%20Property%20Policy%2020120417.pdf" target="_blank">iDigBio Intellectual Property Policy</a> and the <a href="https://www.idigbio.org/sites/default/files/iDigBioTermsOfUse.pdf" target="_blank">iDigBio Terms of Use</a>.
          </p>
          <a id="login-button" href="#" class="btn btn-primary">Sign in</a>
        </div>
      </div>

      <div class="modal hide fade" id="serviceErrorModal" data-backdrop="static" style="display: none; ">
        <div class="modal-header">
          <h3>iDigBio Service Unavailable</h3>
        </div>
        <div class="modal-body">
          <div class="alert alert-block alert-error">
            <p>Authentication failure, the iDigBio Image Ingestion Tool cannot be used right now.
              Please check your network connection or come back later.
              You may also inform iDigBio about the unavailability.
            </p>
          </div>
        </div>
      </div>


      <!-- Main hero unit for a primary marketing message or call to action -->
      <div class="hero-unit text-centered">
        <div class="row-fluid">
          <div class="span4">
            <img src="assets/img/logo.png" alt="" id="logo">
          </div>
          <div class="span8">
            <h1>Image Ingestion Tool</h1><br />
            <p>This is a tool that helps you ingest images into the iDigBio storage cloud.</p>
          </div>
        </div>
      </div>

      <!-- Main form used to post path to the service -->
      <!--[if lt IE 7 ]> <div id="upload-dashboard" class="hidden js-required"> <![endif]-->
      <!--[if IE 7 ]>    <div id="upload-dashboard" class="hidden js-required"> <![endif]-->
      <!--[if IE 8 ]>    <div id="upload-dashboard" class="hidden js-required"> <![endif]-->
      <!--[if IE 9 ]>    <div id="upload-dashboard" class="hidden js-required"> <![endif]-->
      <!--[if (gte IE 10)|!(IE)]><!-->
      <div id="upload-dashboard" class="js-required">
      <!--<![endif]-->

        <ul class="nav nav-pills">
          <li class="active">
            <a href="#">Via CSV</a>
          </li>
          <li><a href="#">Via Root Directory</a></li>
        </ul>

        <!-- Tab 1: the CSV upload form. -->
        <div >
          <form id='csv-upload-form' class="form-horizontal">
            <div class="control-group">
              <div class="row-fluid">
                
                <div class="control-group">
                  <label class="control-label" for="license-dropdown">Image <a href="http://creativecommons.org/licenses/" target="_blank">License</a> *</label>
                  <div class="controls controls-row">
                    <select id="csv-license-dropdown" name="imagelicense" class="span6" rel="tooltip"
                    data-title='Select the license you want to associate with the images you upload.'>
                      <option value=""></option>
                    </select>
                  </div>
                </div>

                <div class="control-group">
                  <label class="control-label" for="rsguid">Record Set GUID *</label>
                  <div class="controls controls-row">
                    <input type="text" data-provide="typeahead" class="span6"
                      id="rsguid" name="rsguid" placeholder="Record Set GUID"
                      rel="tooltip" data-title='This is the GUID for this record set.'>
                  </div>
                </div>

                <div class="control-group">
                  <label class="control-label" for="csvpath">CSV File Path *</label>
                  <div class='controls controls-row'>
                    <input type="text" data-provide="typeahead" class="span6"
                      id="csv-path" placeholder="Paste CSV path&hellip;"
                      rel="tooltip" name="csvpath"
                      data-title='e.g. /Users/you/collection.csv'>
                  </div>
                </div>

                <div class="control-group">
                  <label class="control-label" for="mediaContentKeyword">Media Content Keyword</label>
                  <div class='controls controls-row'>
                    <input type="text" data-provide="typeahead" class="span6"
                      id="mediaContentKeyword" placeholder="Optional"
                      rel="tooltip" name="mediaContentKeyword"
                      data-title='Should indicate "Label" or "FieldBook" for a photograph of a label or field book, "PhysicalSpecimen" or "LivingSpecimen" for a photograph of a specimen, "Illustration" for a man-made drawing, and so on.'>
                  </div>
                </div>

                <div class="control-group">
                  <label class="control-label" for="owneruuid">iDigbio Provider GUID</label>
                  <div class="controls controls-row">
                    <input type="text" data-provide="typeahead" class="span6"
                      id="csv-owneruuid" placeholder="Optional" rel="tooltip"
                      data-title='By default, the Account UUID you signed in with is set as the owner of the images. You can use the UUID of your organization instead by specifying it here.'>
                  </div>
                </div>

                <div class="control-group">
                  <label class="control-label" for="iDigbioPublisherGUID">iDigbio Publisher GUID</label>
                  <div class='controls controls-row'>
                    <input type="text" data-provide="typeahead" class="span6"
                      id="iDigbioPublisherGUID" placeholder="Optional"
                      rel="tooltip" name="iDigbioPublisherGUID"
                      data-title='Relates this record set to the organization (Organization Concept) that is publishing the data on behalf of the source provider.'>
                  </div>
                </div>

                <div class="control-group">
                  <label class="control-label" for="fundingSource">Funding Source</label>
                  <div class='controls controls-row'>
                    <input type="text" data-provide="typeahead" class="span6"
                      id="fundingSource" placeholder="Optional"
                      rel="tooltip" name="fundingSource"
                      data-title='Funding source related to the digitization effort of this set of media.'>
                  </div>
                </div>

                <div class="control-group">
                  <label class="control-label" for="fundingPurpose">Funding Purpose</label>
                  <div class='controls controls-row'>
                    <input type="text" data-provide="typeahead" class="span6"
                      id="fundingPurpose" placeholder="Optional"
                      rel="tooltip" name="fundingPurpose"
                      data-title='E.g., specimen collection, initial digital data capture, metadata augmentation, personnel, etc.'>
                  </div>
                </div>

                <div class='controls controls-row'>
                  <div class='span5'>
                    <label>Note: the fields with * are mandatory.</label>
                  </div>
                </div>

                <div class='controls controls-row'>
                  <div class='span3'>
                    <button id="csv-upload-button" type="submit"  class="btn btn-primary btn-block">
                      <i class="icon-upload icon-white"></i>
                      <span>Upload</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>

        <!-- Tab 2. The directory upload control panel. -->
        <div class="accordion row hidden" id="accordion2">
          <!-- Settings panel. -->
          <div class="accordion-group span12">
            <div class="accordion-heading">
              <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseOne">
                Set Your Upload Preferences
              </a>
            </div>
            <div id="collapseOne" class="accordion-body collapse">
              <div class="accordion-inner">
                <form id="settings-form" class="form-horizontal">

                  <!-- 1. -->
                  <div class="control-group">
                    <label class="control-label" for="license-dropdown">Image <a href="http://creativecommons.org/licenses/" target="_blank">License</a></label>
                    <div class="controls controls-row">
                      <select id="license-dropdown" name="imagelicense" class="span4" rel="tooltip"
                      data-title='Select the license you want to associate with the images you upload.'>
                        <option value=""></option>
                      </select>
                    </div>
                  </div>

                  <div class="control-group">
                    <label class="control-label" for="owneruuid">Organization UUID</label>
                    <div class="controls controls-row">
                      <input type="text" data-provide="typeahead" class="span4"
                        id="owneruuid" placeholder="Organization UUID (optional)" rel="tooltip"
                        data-title='By default, the Account UUID you signed in with is set as the owner of the images. You can use the UUID of your organization instead by specifying it here.'>
                    </div>
                  </div>

                  <div class="control-group">
                    <label class="control-label" for="idsyntax-dropdown"><a href="https://www.idigbio.org/sites/default/files/iDigBio-GUID-Statement20MAR2012.pdf" target="_blank">GUID</a> Syntax</label>
                    <div class="controls controls-row">
                      <select id="idsyntax-dropdown" name="idsyntax" class="span4" rel="tooltip"
                        data-title='Select the way to construct a GUID of the media record for each image. For more information about the GUIDs see the link on the left. Usually choose full path unless you have some mechanism (e.g. barcoding) to generate locally unique file names.'>
                        <option value=""></option>
                      </select>
                    </div>
                  </div>

                  <div class="control-group">
                    <label class="control-label" for="idprefix">GUID Prefix</label>
                    <div class="controls controls-row">
                      <input type="text" data-provide="typeahead" class="span4"
                        id="idprefix" name="idprefix" placeholder="GUID Prefix"
                        rel="tooltip" data-title='This is the prefix used with the "GUID Syntax". e.g. http://ids.flmnh.ufl.edu/herb. GUIDs are contructed by combining the GUID Prefix with either the file name or the full fie path.'>
                    </div>
                  </div>

                </form>
              </div>
            </div> <!-- / collapseOne -->
          </div> <!-- accordion-group 1. Settings panel. -->

          <!-- Uploader panel. -->
          <div class="accordion-group span12">
            <div class="accordion-heading">
              <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseTwo">
                Specify the Directory to Upload
              </a>
            </div>
            <div id="collapseTwo" class="accordion-body collapse">
              <div class="accordion-inner">
                <form id='upload-form'>
                  <div class="control-group">
                    <div class="row-fluid">
                      <div class='span9'>
                          <input type="text" data-provide="typeahead" class="input-block-level"
                            id="root-path" placeholder="Paste the image folder path&hellip;"
                            rel="tooltip" name="rootpath"
                            data-title='e.g. C:\\Users\bob\Pictures\ or /Users/alice/Pictures/'>
                      </div>
                      <div class='span3'>
                        <button id="upload-button" type="submit"  class="btn btn-primary btn-block">
                          <i class="icon-upload icon-white"></i>
                          <span>Upload</span>
                        </button>
                      </div>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div> <!-- accordion-group 2. Uploader box. -->
        </div> <!-- / Accordion row -->
        
        <!-- Alert, row 2. -->
        <div class="row-fluid" id="alert-container"></div>
        
        <!-- Progress bar, row 3. -->
        <div class="row-fluid fade hide" id="progressbar-container">
          <!-- The global progress information -->
          <!-- The extended global progress information -->
          <div id="progresstext">&nbsp;</div>
          <!-- The global progress bar -->
          <div class="progress progress-primary progress-striped">
            <div id="upload-progressbar" class="bar" style="width:0.1%;"></div>
          </div>
        </div>

        <!-- Results table, row 4. -->
        <div class="row">
          <div class="span12 fade hide" id="result-table-container">
            <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered" id="result-table"></table>
          </div>
        </div>
      </div>
      
      <noscript>
        <p class="text-centered">
          This application makes heavy use of JavaScript. You must enable
          JavaScript to use this tool.
        </p>
      </noscript>

      <div id="unsupported-browser-msg" style="display: none">
        <p class="text-centered">
          This application requires functionality that is not supported by your browser.
          Supported browsers include IE 10, recent verions of Chrome, Safari, Firefox and Opera.
          To use a supported browser with this application, you may either set it as your system's 
          default browser or simply copy the URL of this page and paste it into its address bar.
        </p>
      </div>
      <hr>

      <footer class="text-centered">
        <p>&copy; iDigBio 2012</p>
      </footer>

    </div> <!-- /container -->
    
    <!-- Le javascript
    ================================================== -->
    <script src="assets/js/jquery.js"></script>
    <script src="assets/js/jquery.validate.js"></script>
    <script src="assets/js/jquery.blockUI.js"></script>
    <script src="assets/js/throbber.js"></script>
    <script src="assets/js/bootstrap.js"></script>
    <script type="text/javascript" charset="utf8" src="assets/js/jquery.cookie.js"></script>
    <!-- DataTables -->
    <script type="text/javascript" charset="utf8" src="assets/DataTables/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" charset="utf8" src="assets/TableTools/js/TableTools.min.js"></script>
    <script type="text/javascript" charset="utf8" src="assets/DataTables/js/DT-bootstrap.js"></script>
    <!-- Site-specific JS -->
    <script src="assets/js/ingestion.dir.js"></script>
    <script src="assets/js/ingestion.ui.js"></script>
  </body>
</html>
